<!doctype html>
<!--[if IE 6 ]><html lang="en-us" class="ie6"> <![endif]-->
<!--[if IE 7 ]><html lang="en-us" class="ie7"> <![endif]-->
<!--[if IE 8 ]><html lang="en-us" class="ie8"> <![endif]-->
<!--[if (gt IE 7)|!(IE)]><!-->
<html lang="ar" dir="rtl">
<!--<![endif]-->
<head>
	<meta charset="utf-8">
	<title>أسود لارافيل | ترجمة تطبيقات لارافيل</title>
	<link rel="stylesheet" href="doc/assets/css/documenter_style.css" media="all">
	<link rel="shortcut icon" type="image/x-icon" href="doc/assets/images/icon.png" />
	<link rel="stylesheet" href="doc/assets/bootstrap/css/bootstrap.min.css">
</head>
<style>
	.html5-video-player {
		direction: rtl;
		text-align: right;
	}
	#documenter_content h1{
		text-align: center;
		margin-right: 100px;
	}
	img{
		width: 85%;
		height: 85%;
		margin-right: 100px;
		margin-top: 15px;
		margin-bottom: 15px;
	}
	h1{
		margin-top: 25px;
		margin-bottom: 25px;
	}
	
	pre{
		direction: rtl;
		
	}
	p{
		margin-right: 75px;
		margin-top: 25px;
		margin-bottom: 25px;
		text-align: center;
	}
</style>
<body class="documenter-project-mp-price" dir="rtl">
	<div id="documenter_sidebar">
		<h1 class="title">ترجمة تطبيقات لارافيل</h1>
		<ul id="documenter_nav">
			<li><a class="current" href="#introd"> مقدمة </a></li>
			<li><a href="#translation"> الطريقة العادية </a></li>
			<li><a href="#lang_switcher">مبدل اللغات </a></li>
		</ul>
		<div id="documenter_copyright">
			<a href="https://github.com/mahmoudsamyhosein">By:MSHMK بواسطة محمود سامي حسين متولي</a>
		</div>
	</div>
	<div id="documenter_content">
		<section id="introd">
			<div class="text-center">
				<h1> بسم الله الرحمن الرحيم </h1>
				<h1> والصلاة والسلام علي أشرف المرسلين سيدنا محمد عليه أفضل الصلاة والسلام
					وأحمد الله جل وعلا الذي وفقني لهذا العمل </h1>
				<h1> يتناول هذا الكتاب شرح ترجمة تطبيقات لارافيل </h1>
				<h2>
					لمتابعة هذا الكتاب يجب أن يكون لديك معرفة مسبقة بلارافيل و php </h2>
				<h2><a href="https://mahmoudsamyhosein.github.io/php-liones/">لقراءة كتاب أسود الذي يشرح أساسيات لغة
						php</a> </h2>
				<h2><a
						href="https://scriptaty.com/shop/item/4dca3d/%D9%83%D8%AA%D8%A7%D8%A8-%D8%A3%D8%B3%D9%88%D8%AF-php-%D9%84%D8%AA%D8%B9%D9%84%D9%8A%D9%85-%D8%A3%D8%B3%D8%A7%D8%B3%D9%8A%D8%A7%D8%AA-%D8%A7%D9%84%D8%A8%D8%B1%D9%85%D8%AC%D8%A9-%D8%A8%D9%84%D8%BA%D8%A9-php">لتحميل
						كتاب أسود الذي يشرح أساسيات لغة php</a> </h2>
			</div>
			<hr>
			<img src="doc/assets/images/laravel9.png" alt="laravel-image-placeholder">
			<hr>
		</section>
		<!-- الطريقة العادية-->
		<section id="translation">
			<div>
				 <h1>عند العمل علي تطبيقات لارافيل لابد لك من أن تقوم بترجمة موقعك الي لغة أخري فلنفرض في هذا المثال اللغة العربية 
				 ويتم ذلك عبر 3 خطوات هم 
				 الأولي : الذهاب الي مجلد <span style="color: crimson;">config/app.php</span>
				 وتغيير
				 أعدادات الملف كالتالي للحقلين التاليين </h1>
					<p>'locale' => 'en', الي 'locale' => 'ar' هذا الحقل يعني اللغة الافتراضية للتطبيق </p>
					<p>'fallback_locale' => 'en', الي 'fallback_locale' => 'ar',في حالة لم يتم العثور علي اللغة أعرض هذه اللغة</p>
				<img src="doc/assets/images/step_1.PNG" alt="local image files">
				<img src="doc/assets/images/step-1_after.PNG" alt="local image files-2">
				<h1 class="text-bymshm">الخطوة الثانية </h1>
				  الذهاب الي مجلد <span style="color: crimson;">resources/lang/en</span>
				  ونسخ  المحتوي الذي بداخلة الي مجلد جديد بنفس الاسم(ar) الذي تم تغييرة في الخطوة السابقة 
				وسوف تجد بهذا المجلد أربعة ملفات وهم كالتالي 
				  <br>
						<p>(auth) رسائل المصادقة التي تعرض للمستخدم</p>
						<p>(pagination) في حال كان هناك محتوي يلزم التنقل بين الصفحات </p>
						<p>(passwords) كلمات المرور</p>
						<p>(validation)التحقق من المدخلات ورسائل الخطأ</p>
					<img src="doc/assets/images/step_2_before.PNG" alt="local image files">
					<img src="doc/assets/images/step-2_after.PNG" alt="local image files-2">
					<h1 class="text-bymshm">الخطوة الثالثة </h1>
					<h1>
						<hr>
						 ترجمة محتوي الملفات مع مراعاة قاعدة  وهي أنه أي كلمة تبدا 
						 <span style="color: brown; width: 75px; height: 75px;"> <p>(</p> : النقتطين <p>)</p> </span>
						 سواء كنت تعمل في ملفات لارافيل الافتراضية التي يتم تحميلها مع التطبيق لاول مرة أو أي سكربت أخر 
						 لا يتم ترجمتها لانها تحمل قيمة متغير .
						<hr>
						<h1>لترجمه رسائل النجاح والخطأ الموجوده بداخل المتحكمات او class base files 

						</h1>
						<pre>session()->flash('message_key',trans('رسالة الخطأ أو النجاح مثلا'));</pre>
						<pre>session()->flash('message_key',trans('site.message_success'));</pre>

						<img src="doc/assets/images/variables.PNG" alt="local image files-3">
						<div class="iframe">
							<iframe width="800" height="600" style="margin-right: 100px ;" al src="https://www.youtube.com/embed/a6rzlkpayAw" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
							</iframe>
						</div>
					</h1>
				</div>
		</section>
		<!-- الطريقة العادية-->
		<!-- مبدل اللغات -->
		<section id="lang_switcher">
			<h1>خطوات أنشاء مبدل اللغات language switcher</h1>
			<h1>قم بانشاء برمجية وسيطة جديدة middleware</h1>
			<pre>
				php artisan make:middleware Language
			</pre>
			<pre>
				&lt;?php
				namespace App\Http\Middleware;
				use Closure;
				use Illuminate\Http\Request;
				use Illuminate\Support\Facades\App;
				class Language
				{
					/**
					* Handle an incoming request.
					*
					* @param  \Illuminate\Http\Request  $request
					* @param  \Closure  $next
					* @return mixed
					*/
					public function handle($request, Closure $next)
					{ 
						//
						if (Session()->has('applocale') AND array_key_exists(Session()->get('applocale'), config('languages'))) {
							App::setLocale(Session()->get('applocale'));
						}
						else { // This is optional as Laravel will automatically set the fallback language if there is none specified
							App::setLocale(config('app.fallback_locale'));
						}
						return $next($request);
					}
				}
			</pre>
			<h1> يجب تسجيل ال midleware بداخل ملف <span style="color: crimson;">Kernel.php</span></h1>
			<pre>
				protected $middlewareGroups = [
				'web' => [
					\App\Http\Middleware\EncryptCookies::class,
					\Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse::class,
					\Illuminate\Session\Middleware\StartSession::class,
					// \Illuminate\Session\Middleware\AuthenticateSession::class,
					\Illuminate\View\Middleware\ShareErrorsFromSession::class,
					\App\Http\Middleware\VerifyCsrfToken::class,
					\Illuminate\Routing\Middleware\SubstituteBindings::class,
					<span style="color: crimson;">\App\Http\Middleware\Language::class,</span>
				],
			</pre>
			<h1>ثم أنشاء ملف باسم language.php اضافه مصفوفه تحتوي علي قيم ومفاتيح اللغات </h1>
			<pre>
					&lt;?php
					return [
						'en' => 'English',
						'fr' => 'Français',
						'es' => 'Spanish'
					];
			</pre>
			<h1>قم بانشاء متحكم جديد باسم  LanguageController</h1>
			<pre>php artisan make:controller LanguageController</pre>
			<h1>ثم كتباه الكود التالي بداخل المتحكم</h1>
			<pre>
				&lt;?php
				namespace App\Http\Controllers;
				use Illuminate\Http\Request;
				use Illuminate\Support\Facades\Config;
				use Illuminate\Support\Facades\Session;
				use Illuminate\Support\Facades\Redirect;
				class LanguageController extends Controller
				{
					public function switchLang($lang)
					{
						if (array_key_exists($lang, Config::get('languages'))) {
							Session::put('applocale', $lang);
						}
						return Redirect::back();
					}
				}
				</pre>
				<h1>قم بانشاء مسار جديد وبداخله سوف يكون هذا الكود</h1>
				<pre>
					Route::get('lang/{lang}', ['as' => 'lang.switch', 'uses' => 'App\Http\Controllers\LanguageController@switchLang']);
				</pre>
				<h1>في ملف العرض هذا الكود هو المسؤول عن عرض مبدل اللغات بداخل ملف العرض </h1>
				<pre>
							&lt;li class="nav-item dropdown">
							&lt;a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
								{{ Config::get('languages')[App::getLocale()] }}
								&lt;/a>
								&lt;div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
							@foreach (Config::get('languages') as $lang => $language)
								@if ($lang != App::getLocale())
								&lt;a class="dropdown-item" href="{{ route('lang.switch', $lang) }}"> {{$language}}&lt;/a>
								@endif
							@endforeach
							&lt;/div>
							&lt;/li>
				</pre>
		</section>
		<!-- مبدل اللغات -->
		<script src="doc/assets/js/jquery.js"></script>
		<script src="doc/assets/js/jquery.scrollTo.js"></script>
		<script src="doc/assets/js/jquery.easing.js"></script>
		<script src="doc/assets/js/script.js"></script>
</body>

</html>
